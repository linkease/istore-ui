var Be=Object.defineProperty,Ue=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var Ce=(n,e,t)=>e in n?Be(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,W=(n,e)=>{for(var t in e||(e={}))Fe.call(e,t)&&Ce(n,t,e[t]);if(xe)for(var t of xe(e))ze.call(e,t)&&Ce(n,t,e[t]);return n},ae=(n,e)=>Ue(n,Me(e));var Ge=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var y=(n,e,t)=>new Promise((s,a)=>{var r=u=>{try{h(t.next(u))}catch(b){a(b)}},l=u=>{try{h(t.throw(u))}catch(b){a(b)}},h=u=>u.done?s(u.value):Promise.resolve(u.value).then(r,l);h((t=t.apply(n,e)).next())});import{a as re,c as qe,u as F,b as G,d as V,r as ee,o as d,e as p,F as R,f as Y,g as X,w as Re,h as o,n as j,t as _,i as A,j as B,k as Ye,l as T,m as le,p as ie,q as i,s as H,v as ce,x as ue,y as De,z as Se,A as He,B as Ne,C as Qe,D as We,E as Ke,G as Ze,T as Je,H as Xe,I as se,J as te,K as Ae}from"./vendor.js?v=96cb1fcd";var Ho=Ge(I=>{const je=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}};je();const oe={tagMap:{},numberFormat:new Intl.NumberFormat("en",{notation:"compact"})},et=n=>y(I,null,function*(){const e=window.vue_lang;new Date().getTime();let t={};try{const r=yield re({url:window.vue_lang_data,method:"GET"});r.data&&(t=r.data)}catch(r){console.log(r)}const s=qe({defaultLanguage:e,translations:t,setGlobalProperties:!1,provideDirective:!1,provideComponent:!1});n.use(s);const{$gettext:a}=s;window.$i18n=a,oe.tagMap={net:a("net"),tool:a("tool"),download:a("download"),service:a("service"),multimedia:a("multimedia"),nas:a("nas"),monitor:a("monitor"),system:a("system"),networking:a("networking"),broken:a("Broken")};try{oe.numberFormat=new Intl.NumberFormat(e,{notation:"compact"})}catch(r){console.error("Intl.NumberFormat unsupported lang",e,r)}}),Ee=n=>oe.tagMap[n]||n,Le=n=>typeof n=="number"?oe.numberFormat.format(n):"?";var E=(n,e)=>{const t=n.__vccOpts||n;for(const[s,a]of e)t[s]=a;return t};const tt={class:"tabs"},nt=["href","onClick"],at={key:0},st={__name:"index",setup(n){const{$gettext:e}=F(),t=G(),s=V(()=>t.state.version),a=V(()=>[{to:"/installed",name:e("installed")},{to:"/store",name:e("all app")},{to:"/upload",name:e("manual install")},{to:"/maintance",name:e("maintain"),up:s.value}]);return(r,l)=>{const h=ee("router-link");return d(),p("ul",tt,[(d(!0),p(R,null,Y(a.value,u=>(d(),X(h,{to:u.to,custom:"",key:u.to},{default:Re(({href:b,navigate:k,isActive:P})=>[o("li",{class:j(P&&"active cbi-tab")},[o("a",{href:b,onClick:k},_(u.name),9,nt),u.up?(d(),p("span",at)):A("",!0)],2)]),_:2},1032,["to"]))),128)),l[0]||(l[0]=o("div",{class:"auto"},null,-1))])}}};var ot=E(st,[["__scopeId","data-v-13251538"]]);const rt={__name:"App",setup(n){return G().dispatch("getData"),(t,s)=>{const a=ee("router-view");return d(),p(R,null,[B(ot),B(a)],64)}}},lt=()=>window.vue_base,it=()=>window.istore_api_base||"https://istore.istoreos.com",ct=()=>window.istore_icon_base||"https://istore.linkease.com.cdn.koolcenter.com",ut=n=>{if(n)return Ye(n).format("YYYY-MM-DD HH:mm:ss")},dt=()=>new Date().getTime(),pt=n=>{if(n<1024)return""+n+"KB";let t=1024,s=0;for(let r=n/1024;r>=1024;r/=1024)t*=1024,s++;let a=["M","G","T","P","E"];return(n/100/(t/100)).toFixed(2)+a[s]},_t=n=>{if(n==null)return 0;if(n<1e4)return n;let t=parseInt(`${n/1e4}`),s=n%1e4;return`${t}\u4E07${s}`},vt=()=>window.token||"",ht=()=>{var n;return((n=window==null?void 0:window.device_id)==null?void 0:n.uid)||""},mt=()=>{var n;return((n=window==null?void 0:window.istore_config)==null?void 0:n.channel)||""},ft=()=>{var n;return((n=window==null?void 0:window.device_id)==null?void 0:n.version)||""},gt=()=>{var n;return((n=window==null?void 0:window.device_id)==null?void 0:n.arch)||""},bt=()=>"https://www.kooldns.cn/bind",yt=()=>window.istore_features||[];var kt=Object.freeze(Object.defineProperty({__proto__:null,BasePage:lt,ApiBaseURL:it,IconBaseURL:ct,formatDate:ut,UnixDate:dt,numberToSize:pt,numberToSum:_t,getToken:vt,getDeviceId:ht,getChannel:mt,getVersion:ft,modelArch:gt,getIframeURL:bt,getFeatures:yt},Symbol.toStringTag,{value:"Module"})),D=W({},kt);const O=re.create({});O.interceptors.request.use(n=>(n.params==null&&(n.params={}),n.params=ae(W({},n.params),{token:D.getToken(),_t:D.UnixDate()}),n),n=>n);O.interceptors.response.use(n=>n,n=>n);const Z=re.create({baseURL:D.ApiBaseURL()});Z.interceptors.request.use(n=>(n.params==null&&(n.params={}),n.params=ae(W({},n.params),{modelArch:D.modelArch(),deviceId:D.getDeviceId(),channel:D.getChannel(),_t:D.UnixDate()}),n),n=>n);Z.interceptors.response.use(n=>n);const wt=()=>new Promise((n,e)=>y(I,null,function*(){try{const t=yield O({method:"GET",url:"/cgi-bin/luci/admin/store/installed"});if(t.status==200){n(t.data);return}e(t.status);return}catch(t){e(t);return}})),$t=(n,e)=>new Promise((t,s)=>y(I,null,function*(){const a={package:n};e&&(a.autoconf=1,a.path=e.path,a.enable=e.enable);try{const r=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/install",params:a});if(r.status==200){t(r.data);return}s(r.status);return}catch(r){s(r);return}})),xt=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/upgrade",params:{package:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),Ct=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/remove",params:{package:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),St=()=>new Promise((n,e)=>y(I,null,function*(){try{const t=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/update"});if(t.status==200){n(t.data);return}e(t.status);return}catch(t){e(t);return}})),At=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"GET",url:"/cgi-bin/luci/admin/store/status",params:{package:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),Lt=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/upload",headers:{"Content-Type":"multipart/form-data"},data:n});if(s.data){e(s.data);return}}catch(s){t(s);return}t("not found soft")})),Tt=()=>new Promise((n,e)=>y(I,null,function*(){try{const t=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/light_backup"});if(t.status==200){n(t.data);return}e(t.status);return}catch(t){e(t);return}})),It=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/light_restore",headers:{"Content-Type":"multipart/form-data"},data:n});if(s.data){e(s.data);return}}catch(s){t(s);return}t("not found soft")})),Pt=(n,e)=>new Promise((t,s)=>y(I,null,function*(){try{const a=yield O({method:"GET",url:"/cgi-bin/luci/admin/store/get_available_backup_file_list",params:{path:n,type:e}});if(a.status==200){t(a==null?void 0:a.data);return}s(a.status);return}catch(a){s(a);return}})),Ot=()=>new Promise((n,e)=>y(I,null,function*(){try{const t=yield O({method:"GET",url:"/cgi-bin/luci/admin/store/get_local_backup_dir_path"});if(t.status==200){n(t==null?void 0:t.data);return}e(t.status);return}catch(t){e(t);return}})),Rt=(n,e)=>new Promise((t,s)=>y(I,null,function*(){try{const a=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/local_backup",params:{path:n,type:e}});if(a.status==200){t(a==null?void 0:a.data);return}s(a.status);return}catch(a){s(a);return}})),Dt=(n,e)=>new Promise((t,s)=>y(I,null,function*(){try{const a=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/local_restore",params:{path:n,type:e}});if(a.status==200){t(a.data);return}s(a.status);return}catch(a){s(a);return}})),Et=()=>new Promise((n,e)=>y(I,null,function*(){try{const t=yield O({method:"GET",url:"/cgi-bin/luci/admin/store/get_block_devices"});if(t.status==200){n(t==null?void 0:t.data);return}e(t.status);return}catch(t){e(t);return}})),Vt=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/toggle_docker",params:{hide:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),Bt=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/toggle_arch",params:{ignore:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),Ut=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/toggle_ipv4",params:{ipv4:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),Mt=()=>new Promise((n,e)=>y(I,null,function*(){try{const t=yield O({method:"GET",url:"/cgi-bin/luci/admin/store/run_records"});if(t.status==200){n(t.data);return}e(t.status);return}catch(t){e(t);return}})),Ft=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/del_record",params:{id:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}})),zt=n=>new Promise((e,t)=>y(I,null,function*(){try{const s=yield O({method:"POST",url:"/cgi-bin/luci/admin/store/unrun",params:{id:n}});if(s.status==200){e(s.data);return}t(s.status);return}catch(s){t(s);return}}));var Gt=Object.freeze(Object.defineProperty({__proto__:null,getInstalledApp:wt,installApp:$t,upgradeApp:xt,removeApp:Ct,updateAppStore:St,getAppStatus:At,uploadAppIPK:Lt,lightBackup:Tt,lightRestore:It,backupFileList:Pt,localBackupdirPath:Ot,localBackup:Rt,localRestore:Dt,getBlockDevices:Et,toggleDocker:Vt,toggleArch:Bt,toggleIPv4:Ut,getRunRecords:Mt,delRunRecord:Ft,unRun:zt},Symbol.toStringTag,{value:"Module"}));const qt=n=>new Promise((e,t)=>y(I,null,function*(){var s,a,r,l;try{const h=yield Z({method:"GET",url:"/api/store/list",params:n});if(((s=h==null?void 0:h.data)==null?void 0:s.success)===0){e((a=h==null?void 0:h.data)==null?void 0:a.result);return}if((r=h==null?void 0:h.data)!=null&&r.message){t((l=h==null?void 0:h.data)==null?void 0:l.message);return}t("error")}catch(h){console.log(h),t(h);return}})),Yt=(n,e)=>new Promise((t,s)=>y(I,null,function*(){var a,r,l,h;try{const u=yield Z({method:"POST",url:"/api/store/list",params:n,data:e});if(((a=u==null?void 0:u.data)==null?void 0:a.success)===0){t((r=u==null?void 0:u.data)==null?void 0:r.result);return}if((l=u==null?void 0:u.data)!=null&&l.message){s((h=u==null?void 0:u.data)==null?void 0:h.message);return}s("error")}catch(u){console.log(u),s(u);return}})),Ht=D.IconBaseURL(),Nt=n=>`${Ht}${n}`,Qt=()=>new Promise((n,e)=>y(I,null,function*(){var t,s,a,r;try{const l=yield Z({method:"GET",url:"/api/store/tags"});if(((t=l==null?void 0:l.data)==null?void 0:t.success)===0){n((s=l==null?void 0:l.data)==null?void 0:s.result);return}if((a=l==null?void 0:l.data)!=null&&a.message){e((r=l==null?void 0:l.data)==null?void 0:r.message);return}e("error")}catch(l){e(l);return}})),Wt=n=>new Promise((e,t)=>{Z({method:"POST",url:"/api/store/expand",data:{appsId:n||[],deviceId:D.getDeviceId()}}).then(s=>{var a,r,l;if(((a=s.data)==null?void 0:a.success)==0&&((r=s.data)==null?void 0:r.result)){e((l=s.data)==null?void 0:l.result);return}t("not found expand")}).catch(s=>{t(s)})}),Kt=n=>{Z({method:"POST",url:"/api/store/download",data:{appId:n,deviceId:D.getDeviceId()}}).then(e=>{var t;((t=e.data)==null?void 0:t.success)!=0})},Zt=n=>new Promise((e,t)=>{Z({method:"POST",url:"/api/store/star",data:{appId:n,deviceId:D.getDeviceId()}}).then(s=>{var a;if(((a=s.data)==null?void 0:a.success)==0){e(s.data);return}t("not found expand")}).catch(s=>{t(s)})});var Jt=Object.freeze(Object.defineProperty({__proto__:null,getStoreAppList:qt,postStoreAppList:Yt,getStoreAppIcon:Nt,getStoreTags:Qt,getAppExpandData:Wt,increasingDownloadCount:Kt,postStarApp:Zt},Symbol.toStringTag,{value:"Module"}));const Xt=()=>O({method:"GET",url:"/cgi-bin/luci/admin/store/check_self_upgrade"}),jt=()=>O({method:"POST",url:"/cgi-bin/luci/admin/store/do_self_upgrade"});var en=Object.freeze(Object.defineProperty({__proto__:null,updateIstore:Xt,selfUpdateIstore:jt},Symbol.toStringTag,{value:"Module"})),$=W(W(W({},Gt),Jt),en);const tn={class:"toast"},nn=["title"],an={key:1,class:"msg"},sn=["innerHTML"],on={__name:"index",props:{content:String,type:String,Close:Function,keep:Boolean,html:Boolean},setup(n){const e=n,t=T(e.content),s=T(e.keep),a=T(e.html),r=T(window.$i18n);e.keep||setTimeout(()=>{e.Close()},2e3);const l=()=>{e.Close()};return(h,u)=>(d(),p("div",tn,[s.value?(d(),p("div",{key:0,class:"toast-close",onClick:l,title:r.value("closed")},"x",8,nn)):A("",!0),a.value?A("",!0):(d(),p("div",an,_(t.value),1)),a.value?(d(),p("div",{key:2,class:"msg",innerHTML:t.value},null,8,sn)):A("",!0)]))}};var rn=E(on,[["__scopeId","data-v-b05f92bc"]]);const S=n=>{let e={content:"",type:"",keep:!1,html:!1,Close:()=>{s.unmount(t),document.body.removeChild(t)}};n!=null&&(typeof n=="object"?(e.content=(n==null?void 0:n.content)||"",e.type=(n==null?void 0:n.type)||"",e.keep=(n==null?void 0:n.keep)||!1,e.html=(n==null?void 0:n.html)||!1):e.content=n);let t=document.createElement("div"),s=le(rn,e);document.body.append(t),s.mount(t),ie(()=>{s.unmount(t),document.body.removeChild(t)})},ln={props:{content:String,Close:Function},setup(n){return{message:n.content}}},cn={class:"loading"},un={class:"msg"};function dn(n,e,t,s,a,r){return d(),p("div",cn,[e[0]||(e[0]=o("div",{class:"icon"},null,-1)),o("div",un,_(s.message),1)])}var pn=E(ln,[["render",dn],["__scopeId","data-v-6d7664a4"]]),U={props:{content:"",Close:()=>{}},Start(n){this.props={content:n,Close:()=>{e.unmount(t),document.body.removeChild(t)}};let e=le(pn,this.props),t=document.createElement("div");document.body.append(t),e.mount(t),ie(()=>{this.props.Close()})},Stop(){this.props.Close()}};const Q=n=>!Array.isArray(window.istore_features)||window.istore_features.indexOf(n)!=-1,_n={class:"app-container"},vn={class:"app-info"},hn={class:"app-f"},mn={class:"app-icon"},fn=["alt","src"],gn={key:0,class:"docker-icon-i"},bn={class:"app-tags"},yn={class:"tag"},kn={class:"app-r"},wn=["title"],$n={class:"app-name"},xn={class:"app-version"},Cn={class:"app-as"},Sn=["title"],An=["title"],Ln=["title"],Tn={class:"app-author"},In={class:"app-date"},Pn={class:"app-btns"},On=["href"],Rn=["href"],Dn=["href"],En=["title"],Vn={__name:"index",props:{col:{type:Object,default(){return{description:"",tags:[],entry:"",author:"",depends:[],installed:!1,hasupdate:!1,broken:!1,title:"",time:"",release:1,website:"",name:"",version:""}}}},setup(n){const{$gettext:e,$ngettext:t}=F(),s=n,a=V(()=>s.col),r=G(),l=D.formatDate;D.numberToSum;const h=w=>{$.upgradeApp(w).then(c=>{let v=c.stderr;c.code!==0?S({content:`${v}
${e("update failed with error code")}: ${c.code}`,keep:!0}):window.istore_log(!0)}).catch(c=>{S({content:`${e("update failed with error code")}: ${500}`,keep:!0})})},u=(w,c)=>{c&&!Q("docker")&&!confirm(e("Docker is not installed on the system, try to install it?"))||$.installApp(w).then(v=>{let m=v.stderr;v.code!==0?S({content:`${m}
${e("Installation failed with error code")}: ${v.code}`,keep:!0}):($.increasingDownloadCount(w),r.dispatch("apps/incrAppDownload",{name:w}),window.istore_log(!0,f=>{console.log("Install ",w," ",f==0?"successed":"failed")}))}).catch(v=>{S({content:`${e("Installation failed with error code")}: ${500}`,keep:!0})})},b=w=>{!confirm(e("are you sure you want to uninstall %{name}?",{name:w}))||$.removeApp(w).then(v=>{let m=v.stderr;v.code!==0?S({content:`${m}
${e("uninstall failed, error code")}: ${v.code}`,keep:!0}):window.istore_log(!0)}).catch(v=>{S({content:`${e("uninstall failed, error code")}: ${500}`,keep:!0})})},k=w=>y(this,null,function*(){U.Start();try{(yield $.postStarApp(w))&&r.dispatch("apps/incrAppStar",{name:w})}catch(c){}U.Stop()}),P=()=>{S(e("you have already liked"))},M=w=>a.value.installed?`/luci-static/resources/app-icons/${w}.png`:a.value.icon?$.getStoreAppIcon(a.value.icon):`/luci-static/resources/app-icons/${w}.png`,x=w=>{switch(window.vue_lang){case"zh-cn":case"zh-tw":return w.title}return w.title_en||w.title},g=w=>{switch(window.vue_lang){case"zh-cn":case"zh-tw":return w.description}return w.description_en||w.description},L=w=>{r.dispatch("apps/stickTop",w)},z=V(()=>a.value.uci&&a.value.autoconf&&a.value.autoconf.length>0),J=()=>y(this,null,function*(){window.$openGlobalQuickInstalled({app:a.value})});return(w,c)=>{var C,ne,de,pe,_e,ve,he,me,fe,ge,be,ye,ke,we,$e;const v=ee("svg-docker"),m=ee("svg-star-off"),f=ee("svg-star-on");return d(),p("div",_n,[o("div",vn,[o("div",hn,[o("div",mn,[o("img",{alt:i(e)("Icon is gone")+"~",src:M(a.value.name)},null,8,fn),!a.value.broken&&a.value.depends.indexOf("docker-deps")!=-1?(d(),p("i",gn,[B(v,{class:"docker-icon"})])):A("",!0)]),o("div",bn,[(d(!0),p(R,null,Y(a.value.tags,N=>(d(),p(R,{key:N},[o("div",yn,[o("span",null,_(i(Ee)(N)),1)]),c[7]||(c[7]=o("span",{class:"block"},"\uFF5C",-1))],64))),128))])]),o("div",kn,[o("div",{class:"app-title",title:a.value.name},[o("span",$n,_(x(a.value)),1),o("span",xn,"v"+_(a.value.version),1)],8,wn),o("div",Cn,[o("span",null,_(i(t)("%{ num } download","%{ num } downloads",((ne=(C=a.value)==null?void 0:C.expand)==null?void 0:ne.downloadCount)||0,{num:i(Le)((pe=(de=a.value)==null?void 0:de.expand)==null?void 0:pe.downloadCount)})),1),c[8]||(c[8]=o("span",{style:{margin:"0 10px"}},"|",-1)),o("span",null,_(i(t)("%{ num } like","%{ num } likes",((ve=(_e=a.value)==null?void 0:_e.expand)==null?void 0:ve.starCount)||0,{num:i(Le)((me=(he=a.value)==null?void 0:he.expand)==null?void 0:me.starCount)})),1),((fe=a.value)==null?void 0:fe.expand)!=null?(d(),p(R,{key:0},[(be=(ge=a.value)==null?void 0:ge.expand)!=null&&be.isStar?(d(),p("a",{key:0,class:"star-btn",title:i(e)("liked"),onClick:c[0]||(c[0]=N=>P())},[B(m)],8,Sn)):(d(),p("a",{key:1,class:"star-btn",title:i(e)("like"),onClick:c[1]||(c[1]=N=>k(a.value.name))},[B(f)],8,An))],64)):A("",!0)]),o("div",{class:"app-description cbi-value-description",title:g(a.value)},[o("span",null,_(g(a.value)),1)],8,Ln),o("div",Tn,[o("span",null,_(i(e)("author"))+": "+_(a.value.author||"null"),1)]),o("div",In,[o("span",null,_(i(e)("update date"))+": "+_(i(l)(a.value.time*1e3)||"null"),1)])])]),o("div",Pn,[a.value.tutorial?(d(),p("a",{key:0,class:"app-btn cbi-button cbi-button-apply",target:"_blank",href:a.value.tutorial},_(i(e)("tutorial")),9,On)):a.value.website?(d(),p("a",{key:1,class:"app-btn cbi-button cbi-button-apply",target:"_blank",href:a.value.website},_(i(e)("website")),9,Rn)):A("",!0),c[12]||(c[12]=o("div",{class:"auto"},null,-1)),a.value.installed?(d(),p(R,{key:2},[!a.value.broken&&(((ye=a.value)==null?void 0:ye.curVersion)!=((ke=a.value)==null?void 0:ke.lastVersion)||((we=a.value)==null?void 0:we.curRelease)!=(($e=a.value)==null?void 0:$e.lastRelease))?(d(),p(R,{key:0},[c[9]||(c[9]=o("div",{class:"app-margin-left"},null,-1)),o("a",{class:"app-btn cbi-button cbi-button-reload",onClick:c[2]||(c[2]=N=>h(a.value.name))},_(i(e)("upgrade")),1)],64)):A("",!0),c[10]||(c[10]=o("div",{class:"app-margin-left"},null,-1)),!a.value.broken&&a.value.entry?(d(),p("a",{key:1,class:"app-btn cbi-button cbi-button-apply",href:a.value.entry},_(i(e)("open")),9,Dn)):A("",!0),c[11]||(c[11]=o("div",{class:"app-margin-left"},null,-1)),o("a",{class:"app-btn cbi-button cbi-button-remove",onClick:c[3]||(c[3]=N=>b(a.value.name))},_(i(e)("uninstall")),1)],64)):(d(),p(R,{key:3},[z.value?(d(),p("a",{key:0,class:"app-btn cbi-button cbi-button-add",onClick:c[4]||(c[4]=N=>J())},_(i(e)("quickinstall")),1)):(d(),p("a",{key:1,class:"app-btn cbi-button cbi-button-add",onClick:c[5]||(c[5]=N=>u(a.value.name,a.value.depends.indexOf("docker-deps")!=-1))},_(i(e)("install")),1))],64))]),o("span",{class:"fav-icon-i",onClick:c[6]||(c[6]=N=>L(a.value.name)),title:i(e)("Stick to the top")},"\u21EA",8,En)])}}};var Bn=E(Vn,[["__scopeId","data-v-58daddbf"]]);const Un={class:"containers"},Mn={__name:"apps",props:{apps:{type:Array,default(){return[]}}},setup(n){const e=n,t=V(()=>e.apps);return(s,a)=>(d(),p("div",Un,[(d(!0),p(R,null,Y(t.value,r=>(d(),X(Bn,{key:r.name,col:r},null,8,["col"]))),128))]))}};var Ve=E(Mn,[["__scopeId","data-v-1a865b74"]]);const Fn={class:"cbi-section"},zn={__name:"index",setup(n){const e=G(),t=V(()=>e.getters["apps/LocalApps"]);return(s,a)=>(d(),p("fieldset",Fn,[B(Ve,{class:"app-list-installed",apps:t.value},null,8,["apps"])]))}};var Gn=E(zn,[["__scopeId","data-v-bb2340b4"]]);const qn={class:"sort-container"},Yn={class:"sort-title"},Hn={class:"sort-value"},Nn=["value","onClick"],Qn={__name:"sort",setup(n){const{$gettext:e}=F(),t=T("default"),s=G(),a=T([{key:e("default"),value:"default"},{key:e("By download"),value:"download"},{key:e("By rating"),value:"star"},{key:e("Latest update"),value:"updateDate"}]),r=l=>{t.value=l,s.dispatch("apps/filterCurApps",{sort:l})};return(l,h)=>(d(),p("div",qn,[o("div",Yn,_(i(e)("order"))+":",1),o("div",Hn,[(d(!0),p(R,null,Y(a.value,u=>(d(),p("input",{key:u.value,class:j(["cbi-button",{"cbi-button-apply":t.value==u.value}]),type:"button",value:u.key,onClick:b=>r(u.value)},null,10,Nn))),128))])]))}};var Wn=E(Qn,[["__scopeId","data-v-9f592bc6"]]);const Kn={class:"tags-container"},Zn={class:"tags-title"},Jn={class:"tags-value"},Xn=["value"],jn=["value","onClick"],ea={__name:"tag",setup(n){const{$gettext:e}=F(),t=T("default"),s=G(),a=V(()=>s.getters["tags/Tags"]),r=l=>{t.value=l,s.dispatch("apps/filterCurApps",{tag:l})};return(l,h)=>(d(),p("div",Kn,[o("div",Zn,_(i(e)("tag"))+": ",1),o("div",Jn,[o("input",{class:j(["cbi-button",{"cbi-button-apply":t.value=="default"}]),type:"button",value:i(e)("default"),onClick:h[0]||(h[0]=u=>r("default"))},null,10,Xn),(d(!0),p(R,null,Y(a.value,u=>(d(),p("input",{key:u,class:j(["cbi-button",{"cbi-button-apply":t.value==u}]),type:"button",value:i(Ee)(u),onClick:b=>r(u)},null,10,jn))),128))])]))}};var ta=E(ea,[["__scopeId","data-v-07bccc36"]]);const na=["placeholder"],aa={__name:"search",setup(n){const{$gettext:e}=F(),t=T(""),s=G(),a=()=>{s.dispatch("apps/filterCurApps",{search:t.value})};return(r,l)=>{const h=ee("svg-search");return d(),p("form",{class:"search",onSubmit:ue(a,["prevent"])},[o("a",{class:"search-btn",onClick:a},[B(h)]),H(o("input",{type:"text",placeholder:i(e)("please enter the search keyword"),"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u)},null,8,na),[[ce,t.value,void 0,{trim:!0}]])],32)}}};var sa=E(aa,[["__scopeId","data-v-c4e8a9f2"]]);const oa={key:1,style:{margin:"10px 0","text-align":"center",width:"100%"}},ra={__name:"apps",setup(n){const{$gettext:e}=F(),t=G(),s=V(()=>t.getters["apps/StoreApps"]),a=V(()=>t.state.apps.Load);return(r,l)=>a.value?(d(),X(Ve,{key:0,apps:s.value},null,8,["apps"])):(d(),p("span",oa,_(i(e)("loading data"))+"...",1))}},la={class:"cbi-section"},ia={__name:"index",setup(n){return(e,t)=>(d(),p("fieldset",la,[B(sa),B(ta),B(Wn),B(ra)]))}};var ca=E(ia,[["__scopeId","data-v-74b0669f"]]);const ua={class:"cbi-section"},da={class:"container_msg cbi-map-descr"},pa={class:"upload-file"},_a={class:"button"},va={class:"cbi-section cbi-tblsection"},ha={class:"cbi-section-descr"},ma={class:"table cbi-section-table"},fa={class:"tr cbi-section-table-titles anonymous"},ga={class:"th cbi-section-table-cell"},ba={class:"th cbi-section-table-cell"},ya={id:"cbi-table-shadowrt-instances"},ka={key:0,class:"tr cbi-section-table-row placeholder"},wa={class:"td"},$a=["data-title"],xa=["data-title"],Ca={class:"td cbi-section-table-cell nowrap cbi-section-actions"},Sa=["title","value","onClick"],Aa=["title","value","onClick"],La={__name:"index",setup(n){const e=G(),{$gettext:t}=F(),s=D.formatDate,a=T(null),r=T(null),l=V(()=>e.getters["runs/Loaded"]),h=V(()=>e.getters["runs/Records"]);De(()=>{if(a.value){const x=a.value;x.addEventListener("dragenter",g=>{(g.fromElement===null||!x.contains(g.fromElement))&&console.log("dragenter")},!1),x.addEventListener("dragleave",g=>{(g.fromElement===null||!x.contains(g.fromElement))&&console.log("dragleave")},!1),x.addEventListener("dragover",g=>{g.preventDefault(),g.dataTransfer.dropEffect="link"},!1),x.addEventListener("drop",g=>{console.log("drop"),g.preventDefault(),u(g)},!1)}l.value||e.dispatch("runs/getRecords")});const u=x=>{const g=x.dataTransfer.files;if(g&&g.length>0){const L=g[0];k(L);return}},b=x=>{const g=x.target.files;if(g&&g.length>0){const L=g[0];k(L);return}},k=x=>{if(x.name.endsWith(".run")||x.name.endsWith(".ipk")){let g=new FormData;g.append(x.name,x),U.Start(`${t("Uploading")}...`),$.uploadAppIPK(g).then(L=>{let z=L.stderr;L.code!==0?Toast({content:`${z}
${t("Installation failed with error code")}: ${L.code}`,keep:!0}):window.istore_log(!0)}).catch(L=>{Toast({content:`${t("Installation failed with error code")}: ${500}`,keep:!0})}).finally(()=>{U.Stop()})}},P=x=>{!confirm(t("Are you sure you want to delete this installation record (without uninstallation)?"))||(U.Start(`${t("Deleting")}...`),$.delRunRecord(x).then(g=>{g&&g.code===0&&e.commit("runs/setRecords",h.value.filter(L=>L.id!==x))}).finally(()=>{U.Stop()}))},M=x=>{!confirm(t("Are you sure you want to uninstall the packages installed by this record? The record will be deleted if uninstallation successed."))||(U.Start(`${t("Uninstalling")}...`),$.unRun(x).then(g=>{let L=g.stderr;g.code!==0?Toast({content:`${L}
${t("Uninstallation failed with error code")}: ${g.code}`,keep:!0}):window.istore_log(!0)}).finally(()=>{U.Stop()}))};return(x,g)=>{var L;return d(),p(R,null,[o("fieldset",ua,[o("h3",null,_(i(t)("Offline Installation")),1),o("div",da,[o("span",null,"\xB7 "+_(i(t)("In this page, you can upload and install packages")),1),o("span",null,"\xB7 "+_(i(t)("Supports .ipk packages, .run self-extracting installer")),1),o("span",null,"\xB7 "+_(i(t)("Packages installed offline may not appear in iStore")),1),o("span",null,"\xB7 "+_(i(t)("If the package was downloaded from a third party, please assess the risks yourself")),1)]),o("form",{onSubmit:ue(k,["prevent"])},[o("div",{class:"flex",ref_key:"upl",ref:a},[o("label",pa,[o("span",null,_(((L=r.value)==null?void 0:L.name)||i(t)("No file selected")),1),o("input",{type:"file",name:"file",accept:".ipk, .run",hidden:"",onChange:b},null,32),o("div",_a,_(i(t)("Select or drag and drop file to here")),1)]),g[0]||(g[0]=o("div",{class:"auto"},null,-1))],512)],32)]),o("div",va,[o("h3",null,_(i(t)("Offline installation records")),1),o("div",ha,[o("ul",null,[o("li",null,_(i(t)("If the system package list changes after offline installation, an installation record will be generated.")),1),o("li",null,_(i(t)("If the same offline package is installed twice without being uninstalled in between, there is a high probability that no new installation record will be generated.")),1),o("li",null,_(i(t)("You can delete the installation record or uninstall the packages here.")),1)])]),o("table",ma,[o("thead",null,[o("tr",fa,[o("th",ga,_(i(t)("Installation time")),1),o("th",ba,_(i(t)("Filename")),1),g[1]||(g[1]=o("th",{class:"th cbi-section-table-cell cbi-section-actions"},null,-1))])]),o("tbody",ya,[l.value?A("",!0):(d(),p("tr",ka,[o("td",wa,[o("em",null,_(i(t)("Loading view\u2026")),1)])])),(d(!0),p(R,null,Y(h.value,(z,J)=>(d(),p("tr",{key:J,class:"tr cbi-section-table-row"},[o("td",{class:"td cbi-value-field","data-title":i(t)("Installation time")},_(i(s)(z.ts*1e3)),9,$a),o("td",{class:"td cbi-value-field","data-title":i(t)("Filename")},[o("b",null,_(z.file),1)],8,xa),o("td",Ca,[o("div",null,[o("input",{type:"button",class:"cbi-button cbi-button-remove",title:i(t)("Delete"),value:i(t)("Delete"),onClick:w=>P(z.id)},null,8,Sa),o("input",{type:"button",class:"cbi-button cbi-button-remove",title:i(t)("Uninstall"),value:i(t)("Uninstall"),onClick:w=>M(z.id)},null,8,Aa)])])]))),128))])])])],64)}}};var Ta=E(La,[["__scopeId","data-v-0edbd956"]]);const Ia={class:"cbi-section"},Pa={class:"webapp-container"},Oa=["src"],Ra={__name:"index",setup(n){const e=V(()=>""),t=V(()=>""),s=V(()=>`${D.getIframeURL()}/#/apps?token=${t.value}&deviceId=${e.value}`);return(a,r)=>(d(),p("fieldset",Ia,[o("div",Pa,[o("iframe",{src:s.value,sandbox:"allow-scripts allow-same-origin allow-popups",seamless:""},null,8,Oa)])]))}};var Da=E(Ra,[["__scopeId","data-v-8e330954"]]);const Ea={class:"log-containers"},Va={key:0,class:"containers-tit"},Ba={key:1,class:"containers-tit"},Ua=["value"],Ma={key:1},Fa={__name:"update",setup(n){const{$gettext:e}=F(),t=G(),s=V(()=>t.state.version),a=V(()=>t.state.versionLoad),r=()=>{U.Start(`${e("Updating")}...`),$.selfUpdateIstore().then(({data:l})=>{if(l){const{stdout:h,stderr:u,code:b}=l;if(b==0){S({content:`${e("Update success, reloading")}...`,keep:!0}),t.dispatch("istoreUpdated"),setTimeout(()=>{location.href=location.href},1e3);return}else throw u||"unknown error"}throw"unknown error"}).catch(l=>{S(`${e("Update error")}: ${l}`)}).finally(()=>{U.Stop()})};return(l,h)=>(d(),p("div",Ea,[a.value?(d(),p("div",Ba,[s.value?(d(),p(R,{key:0},[o("span",null,_(i(e)("Latest version"))+":"+_(s.value),1),o("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:h[0]||(h[0]=u=>r()),value:i(e)("Click to update")},null,8,Ua)],64)):(d(),p("span",Ma,_(i(e)("Already the latest version."))+"...",1))])):(d(),p("div",Va,_(i(e)("Checking the latest version...")),1))]))}};var za=E(Fa,[["__scopeId","data-v-912218ea"]]);const Ga={class:"log-containers"},qa={class:"containers-tit"},Ya=["disabled","value"],Ha=["disabled","value"],Na=["disabled","value"],Qa={__name:"config",setup(n){const{$gettext:e}=F(),t=G(),s=V(()=>t.state.apps.Cur.hide_docker),a=V(()=>t.state.apps.Cur.ignore_arch),r=T(!1),l=T(window.istore_config.ipv4||!1),h=()=>{r.value=!0;let k=!s.value;window.istore_config.hide_docker=k,t.dispatch("apps/filterCurApps",{hide_docker:k}),$.toggleDocker(k).finally(()=>{r.value=!1})},u=()=>{r.value=!0;let k=!a.value;window.istore_config.ignore_arch=k,t.dispatch("apps/filterCurApps",{ignore_arch:k}),$.toggleArch(k).finally(()=>{r.value=!1})},b=()=>{r.value=!0;let k=!l.value;$.toggleIPv4(k).then(()=>{window.istore_config.ipv4=k,l.value=k}).finally(()=>{r.value=!1})};return(k,P)=>(d(),p("div",Ga,[o("div",qa,[o("input",{disabled:r.value,type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:P[0]||(P[0]=M=>h()),value:s.value?i(e)("Show docker packages"):i(e)("Hide docker packages")},null,8,Ya),o("input",{disabled:r.value,type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:P[1]||(P[1]=M=>u()),value:a.value?i(e)("Hide incompatible packages"):i(e)("Show incompatible packages")},null,8,Ha),o("input",{disabled:r.value,type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:P[2]||(P[2]=M=>b()),value:l.value?i(e)("Download via any IP version"):i(e)("Download via IPv4 only")},null,8,Na)])]))}};var Wa=E(Qa,[["__scopeId","data-v-9a6856ec"]]);const Ka={class:"Lightweight"},Za={class:"Lightweight-container"},Ja={class:"model"},Xa={class:"Lightweight-container1"},ja={class:"container1-center"},es={class:"Lightweight-tit"},ts={class:"Lightweight-backup"},ns=["value"],as=["value"],ss={__name:"lightBackup",setup(n){const{$gettext:e}=F(),t=T(null),s=()=>{const h=e("backuping"),u=e("backup success"),b=e("backup fail"),k=e("click to download");U.Start(`${h}...`),$.lightBackup().then(P=>{if(P){const{msg:M,code:x}=P;if(x==200){S({content:`${u}\uFF0C<a href="/cgi-bin/luci/admin/store/get_light_backup_file" target="_blank">${k}</a><br/><br/>`,keep:!0,html:!0});return}else throw M||"unknown error"}throw"unknown error"}).catch(P=>{S(`${b} : ${P}`)}).finally(()=>{U.Stop()})},a=h=>{const u=h.target.files;if(u&&u.length>0){const b=u[0];r(b);return}},r=h=>{let u=new FormData;u.append(h.name,h),U.Start(`${e("Uploading")}...`),$.lightRestore(u).then(b=>{let k=b.stderr;b.code!==0?S({content:`${k}
${e("Restore failed with error code")}: ${b.code}`,keep:!0}):window.istore_log(!0)}).catch(b=>{S({content:`${e("Restore failed with error code")}: ${500}`,keep:!0})}).finally(()=>{U.Stop()})},l=h=>{t.value.click(h),h.preventDefault()};return(h,u)=>(d(),p("div",Ka,[o("div",Za,[o("div",Ja,_(i(e)("explain")),1),o("div",Xa,[o("div",ja,[o("div",es,[o("span",null,"\xB7 "+_(i(e)("backup now will download a list of iStore installed software")),1),o("span",null,"\xB7 "+_(i(e)("upload software list and install from iStore when restoring")),1)]),o("div",ts,[o("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:s,value:i(e)("backup now")},null,8,ns),o("input",{type:"file",name:"file",accept:".tar, .gz",hidden:"",onChange:a,ref_key:"upl",ref:t},null,544),o("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:l,value:i(e)("restore backup")},null,8,as)])])])])]))}};var os=E(ss,[["__scopeId","data-v-795aa0e4"]]);const rs={class:"local"},ls={class:"local-container"},is={class:"model"},cs={class:"local-container1"},us={class:"container1-center"},ds={class:"local-tit"},ps={key:0},_s={key:1},vs={key:2},hs={key:3},ms={key:4},fs={key:5},gs={key:6},bs={class:"local-device"},ys={class:"local-input"},ks={value:"",disabled:""},ws=["value"],$s={value:"-"},xs=["placeholder"],Cs={key:2,class:"local-btn"},Ss=["value"],As=["value"],Ls={key:0,class:"device-list"},Ts=["value"],Is=["value"],q={ISTORE:"istore",OVERLAY:"overlay"},Ps={__name:"localBackup",props:{backupType:{type:String,required:!0,validator:n=>Object.values(q).includes(n)}},setup(n){const e=n,{$gettext:t}=F(),s=T([]),a=T("-");let r="-";const l=T(!1),h=T([]),u=T(""),b=T(""),k=T(),P=(c,v)=>{if(!(v===""||v==="-"||c.find(m=>m.path===v))){let m;c.filter(f=>f.mount&&f.dev&&v.startsWith(f.mount)).forEach(f=>{m&&m.mount.length>f.mount.length||(m=f)}),c.push({path:v,size:m?m.size:void 0})}s.value=c,v!=="-"&&(a.value=v,M())};a.value=="-"&&($.localBackupdirPath().then(c=>{if(c){const{code:v,msg:m}=c;v==200&&P(s.value,m)}}),$.getBlockDevices().then(c=>{if(c&&c.code==200){const v=c.data,m=[];for(let f in v){const C=v[f];C.mount&&C.mount!="/"&&C.mount!="/rom"&&C.mount!="/boot"&&C.mount!="/ext_overlay"&&C.mount!="/overlay"&&m.push(C)}m.forEach(f=>{f.path=f.mount+"/istore_backup"}),P(m,m.length>0&&a.value==="-"?"":a.value)}}));const M=c=>{l.value=!1,a.value==="-"?(r!="-"&&(b.value=r),k.value.focus()):r=a.value},x=c=>{b.value==""?r!="-"?a.value=r:a.value="":b.value.startsWith("/")?P(s.value,b.value):(S(t("please enter the path, give up the input, please clear the input box")),k.value.setSelectionRange(0,b.value.length),k.value.focus())},g=()=>a.value.length>1&&a.value.endsWith("/")?a.value.substring(0,a.value.length-1):a.value,L=()=>{let c=g();if(c==""){S(t("please fill in the external storage directory"));return}l.value=!1,$.backupFileList(c,e.backupType).then(v=>{if(v){const{code:m,msg:f}=v;if(m==200){let C=JSON.parse(f);C.length==0?(S(t("there are no backup files in this path")),l.value=!1):(h.value=C,l.value=!0);return}throw f||"unknown error"}throw"unknown error"}).catch(v=>{S(v)})},z=()=>{let c=g();if(c==""){S(t("please fill in the external storage directory"));return}$.localBackup(c,e.backupType).then(v=>{let m=v.stderr;v.code!==0?S({content:`${m}
${t("backup fail with error code")}: ${v.code}`,keep:!0}):window.istore_log(!1)}).catch(v=>{S({content:`${t("backup fail with error code")}: ${500}`,keep:!0})})},J=c=>a.value.endsWith("/")?a.value+c:a.value+"/"+c,w=()=>{if(u.value===""){S(t("please select a backup file to restore"));return}q.OVERLAY==e.backupType&&!confirm(t("The system will automatically restart after restore. Do you want to continue?"))||$.localRestore(J(u.value),e.backupType).then(c=>{let v=c.stderr;c.code!==0?S({content:`${v}
${t("Restore failed with error code")}: ${c.code}`,keep:!0}):window.istore_log(!0)}).catch(c=>{S({content:`${t("Restore failed with error code")}: ${500}`,keep:!0})})};return(c,v)=>(d(),p("div",rs,[o("div",ls,[o("div",is,_(i(t)("explain")),1),o("div",cs,[o("div",us,[o("div",ds,[q.ISTORE==e.backupType?(d(),p("span",ps,"\xB7 "+_(i(t)("backup now backs up installed software to external storage")),1)):A("",!0),q.OVERLAY==e.backupType?(d(),p("span",_s,"\xB7 "+_(i(t)("backup now backs up system and sandbox to external storage")),1)):A("",!0),q.OVERLAY==e.backupType?(d(),p("span",vs,"\xB7 "+_(i(t)("includes system configuration and installed packages")),1)):A("",!0),q.OVERLAY==e.backupType?(d(),p("span",hs,"\xB7 "+_(i(t)("it is recommended to perform restore only on the same model")),1)):A("",!0),q.OVERLAY==e.backupType?(d(),p("span",ms,"\xB7 "+_(i(t)("sandbox backups will not be listed in a non-sandbox environment")),1)):A("",!0),q.OVERLAY==e.backupType?(d(),p("span",fs,"\xB7 "+_(i(t)("if you want to restore sandbox backups, please enter the sandbox environment first")),1)):A("",!0),o("span",null,"\xB7 "+_(i(t)("no internet required for restore")),1),q.OVERLAY==e.backupType?(d(),p("span",gs,"\xB7 "+_(i(t)("the system will reboot immediately when the restore is complete")),1)):A("",!0)]),o("div",bs,_(i(t)("external storage directory"))+" \uFF1A ",1),o("div",ys,[a.value!="-"?H((d(),p("select",{key:0,class:"local-input-field",onChange:M,"onUpdate:modelValue":v[0]||(v[0]=m=>a.value=m)},[o("option",ks,_(i(t)("choose")),1),(d(!0),p(R,null,Y(s.value,(m,f)=>(d(),p("option",{value:m.path,key:f},_(m.path+(m.size?"\uFF08"+m.size+"\uFF09":"")),9,ws))),128)),o("option",$s,_(i(t)("customize")),1)],544)),[[Se,a.value,void 0,{trim:!0}]]):H((d(),p("input",{key:1,class:"local-input-field",onBlur:x,onKeyup:He(x,["enter"]),placeholder:i(t)("please enter an absolute path starting with %{name}",{name:"/"}),type:"text","onUpdate:modelValue":v[1]||(v[1]=m=>b.value=m),ref_key:"user_input",ref:k},null,40,xs)),[[ce,b.value,void 0,{trim:!0}]]),a.value!="-"&&a.value!=""?(d(),p("div",Cs,[o("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:z,value:i(t)("backup now")},null,8,Ss),o("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:L,value:i(t)("restore backup...")},null,8,As)])):A("",!0)]),l.value?(d(),p("div",Ls,[o("div",null,_(i(t)("choose backup file"))+" \uFF1A",1),H(o("select",{"onUpdate:modelValue":v[2]||(v[2]=m=>u.value=m)},[(d(!0),p(R,null,Y(h.value,m=>(d(),p("option",{key:m,value:m},_(m),9,Ts))),128))],512),[[Se,u.value,void 0,{trim:!0}]]),o("input",{type:"button",class:"app-btn cbi-button cbi-button-apply",onClick:w,value:i(t)("restore now")},null,8,Is)])):A("",!0)])])])]))}};var Te=E(Ps,[["__scopeId","data-v-3b651fd0"]]);const Os={class:"cbi-map"},Rs={class:"cbi-section"},Ds={class:"panel-title"},Es={class:"cbi-section"},Vs={class:"panel-title"},Bs={key:0,class:"cbi-section"},Us={class:"panel-title"},Ms={class:"cbi-tabmenu"},Fs={onclick:"false",href:"#"},zs={onclick:"false",href:"#"},Gs={onclick:"false",href:"#"},qs={__name:"index",setup(n){const{$gettext:e}=F(),t=T(Q("backup")?2:4);return(s,a)=>(d(),p("div",Os,[o("fieldset",Rs,[o("span",Ds,_(i(e)("upgrade"))+" iStore",1),B(za)]),o("fieldset",Es,[o("span",Vs,_(i(e)("config"))+" iStore",1),B(Wa)]),i(Q)("backup")||i(Q)("overlay")?(d(),p("fieldset",Bs,[o("span",Us,_(i(e)("app backup")),1),o("ul",Ms,[i(Q)("backup")?(d(),p("li",{key:0,class:j(t.value==2?"cbi-tab":"cbi-tab-disabled"),onClick:a[0]||(a[0]=r=>t.value=2)},[o("a",Fs,_(i(e)("light backup")),1)],2)):A("",!0),i(Q)("backup")?(d(),p("li",{key:1,class:j(t.value==3?"cbi-tab":"cbi-tab-disabled"),onClick:a[1]||(a[1]=r=>t.value=3)},[o("a",zs,_(i(e)("local backup")),1)],2)):A("",!0),i(Q)("overlay")?(d(),p("li",{key:2,class:j(t.value==4?"cbi-tab":"cbi-tab-disabled"),onClick:a[2]||(a[2]=r=>t.value=4)},[o("a",Gs,_(i(e)("system backup")),1)],2)):A("",!0)]),t.value==2?(d(),X(os,{key:0})):A("",!0),t.value==3?(d(),X(Te,{key:1,backupType:i(q).ISTORE},null,8,["backupType"])):A("",!0),t.value==4?(d(),X(Te,{key:2,backupType:i(q).OVERLAY},null,8,["backupType"])):A("",!0)])):A("",!0)]))}},Ys=Ne({history:Qe(D.BasePage()),routes:[{path:"/",redirect:"/installed"},{path:"/installed",name:"Installed",component:Gn},{path:"/store",name:"Store",component:ca},{path:"/upload",name:"Upload",component:Ta},{path:"/webapps",name:"Webapps",component:Da},{path:"/maintance",name:"Maintance",component:qs},{path:"/:pathMatch(.*)*",name:"notfound",redirect:"/"}]});var Ie,Pe,Oe,Hs={namespaced:!0,state:{Load:!1,LocalApps:[],StoreApps:[],Expand:{},Cur:{tag:"default",sort:"default",search:"",limit:30,offset:0,hide_docker:((Ie=window==null?void 0:window.istore_config)==null?void 0:Ie.hide_docker)||!1,ignore_arch:((Pe=window==null?void 0:window.istore_config)==null?void 0:Pe.ignore_arch)||!1,super_arch:(Oe=window==null?void 0:window.istore_config)==null?void 0:Oe.super_arch},LocalAppsMap:{},StoreAppsMap:{}},mutations:{setExpand(n,e){n.Expand=e},setLocalApps(n,e){e=e||[],n.LocalAppsMap={},e.forEach(a=>{n.LocalAppsMap[a.name]=a});const t=[],s=JSON.parse(window.localStorage&&window.localStorage.getItem("istore.tops")||"[]");s.forEach(a=>{const r=n.LocalAppsMap[a];r&&t.push(r)}),e.sort((a,r)=>r.time-a.time),e.forEach(a=>{s.indexOf(a.name)==-1&&t.push(a)}),n.LocalApps=t},setStoreApps(n,e){n.StoreApps=e||[],e.forEach(t=>{n.StoreAppsMap[t.name]=t})},setCur(n,e){for(const t in e)Object.hasOwnProperty.call(e,t)&&(n.Cur[t]=e[t])}},getters:{Cur(n){return n.Cur},LocalApps(n){let e=[...n.LocalApps],t=n.Expand;for(let s=0;s<e.length;s++){let a=e[s].name;t[a]&&(e[s].expand=t[a]),n.StoreAppsMap[a]&&(e[s].curVersion=e[s].version,e[s].curRelease=e[s].release,e[s].lastVersion=n.StoreAppsMap[a].version,e[s].lastRelease=n.StoreAppsMap[a].release)}return e},StoreApps(n){let e=[...n.StoreApps];Q("luci-js")||(e=e.filter(r=>((r==null?void 0:r.depends)||[]).indexOf("luci-js-deps")==-1));let t=n.Expand;for(let r=0;r<e.length;r++){let l=e[r].name;t[l]&&(e[r].expand=t[l]),n.LocalAppsMap[l]&&(e[r].installed=!0,n.LocalAppsMap[l].broken?e[r].broken=n.LocalAppsMap[l].broken:(e[r].lastVersion=e[r].version,e[r].lastRelease=e[r].release,e[r].curVersion=n.LocalAppsMap[l].version,e[r].curRelease=n.LocalAppsMap[l].release))}n.Cur.hide_docker&&(e=e.filter(r=>((r==null?void 0:r.depends)||[]).indexOf("docker-deps")==-1)),!n.Cur.ignore_arch&&n.Cur.super_arch&&(e=e.filter(r=>{const l=(r==null?void 0:r.arch)||["all"];return l.indexOf("all")!=-1?!0:l.indexOf(n.Cur.super_arch)!=-1}));let s=n.Cur.tag;s!="default"&&(e=e.filter(r=>((r==null?void 0:r.tags)||[]).indexOf(s)!=-1));let a=n.Cur.search;switch(a&&(e=e.filter(r=>{let l=JSON.stringify(r);return new RegExp(a,"i").test(l)})),n.Cur.sort){case"download":e=e.sort((r,l)=>{var h,u;return(((h=l==null?void 0:l.expand)==null?void 0:h.downloadCount)||0)-(((u=r==null?void 0:r.expand)==null?void 0:u.downloadCount)||0)});break;case"star":e=e.sort((r,l)=>{var h,u;return(((h=l==null?void 0:l.expand)==null?void 0:h.starCount)||0)-(((u=r==null?void 0:r.expand)==null?void 0:u.starCount)||0)});break;case"updateDate":e=e.sort((r,l)=>l.time-r.time);break}return e}},actions:{incrAppDownload(n,e){const{state:t}=n;t.Expand[e==null?void 0:e.name]&&t.Expand[e==null?void 0:e.name].downloadCount++},incrAppStar(n,e){const{state:t}=n;t!=null&&t.Expand[e==null?void 0:e.name]&&(t.Expand[e==null?void 0:e.name].starCount++,t.Expand[e==null?void 0:e.name].isStar=!0)},filterCurApps(n,e){const{commit:t,dispatch:s}=n;t("setCur",e)},getApps(n){const{state:e,dispatch:t}=n;t("getLocalApps"),t("getStoreApps",e.Cur)},getLocalApps(n){const{commit:e}=n;$.getInstalledApp().then(t=>{Array.isArray(t)?t.forEach(s=>{s.installed=!0}):t=[],e("setLocalApps",t)})},getStoreApps(n,e){const{state:t,commit:s,dispatch:a}=n,r={deviceId:D.getDeviceId(),arch:D.modelArch(),ver:D.getVersion(),feature:D.getFeatures().join(",")};let l=[];$.postStoreAppList(e,r).then(h=>{h.apps&&(h.apps.forEach(u=>{l.push(u.name)}),a("getStoreAppsExpand",l),s("setStoreApps",h.apps)),t.Load=!0}).catch(h=>{console.log(h)})},getStoreAppsExpand(n,e){const{commit:t}=n;$.getAppExpandData(e).then(s=>{s&&t("setExpand",s)})},stickTop(n,e){if(!window.localStorage)return;const t=JSON.parse(window.localStorage.getItem("istore.tops")||"[]");if(t.length>0&&t[0]==e)return;const s=[e];t.forEach(l=>{l!=e&&s.push(l)}),window.localStorage.setItem("istore.tops",JSON.stringify(s));const{state:a,commit:r}=n;r("setLocalApps",a.LocalApps)}}},Ns={namespaced:!0,state:{Tags:[],Total:0},mutations:{},getters:{Tags(n){return n.Tags},Total(n){return n.Total}},actions:{getTags(n){const{state:e,commit:t}=n;$.getStoreTags().then(s=>{e.Tags=(s==null?void 0:s.tags)||[],e.Total=(s==null?void 0:s.total)||0})}}},Qs={namespaced:!0,state:{Records:[],Loaded:!1},mutations:{setRecords(n,e){n.Records=e}},getters:{Records(n){return n.Records},Loaded(n){return n.Loaded}},actions:{getRecords(n){const{state:e,commit:t}=n;$.getRunRecords().then(s=>{var a;e.Records=((a=s==null?void 0:s.records)==null?void 0:a.sort((r,l)=>l.ts-r.ts))||[],e.Loaded=!0})}}},Ws=We({state:{version:"",versionLoad:!1},mutations:{setVersion(n,e){n.version=e},setVersionLoad(n,e){n.versionLoad=e}},modules:{apps:Hs,tags:Ns,runs:Qs},actions:{getData(n){const{dispatch:e}=n;e("tags/getTags"),e("apps/getApps"),e("getVersion")},getVersion(n){return y(this,null,function*(){const{commit:e}=n;try{const t=yield $.updateIstore(),{code:s,msg:a}=t==null?void 0:t.data;s==200&&e("setVersion",a)}catch(t){console.log(t)}e("setVersionLoad",!0)})},istoreUpdated(n){const{commit:e}=n;e("setVersion","")}}});const Ks={},Zs={width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function Js(n,e,t,s,a,r){return d(),p("svg",Zs,e[0]||(e[0]=[o("path",{d:"M14.9234958,14.5525054 L10.84453,10.4679606 C11.8849284,9.46327833 12.5294813,8.07823887 12.5294813,6.55073066 C12.5294813,3.48989918 9.94358337,1 6.76474066,1 C3.58589795,1 1,3.48989918 1,6.55073066 C1,9.61156213 3.58589795,12.1014613 6.76474066,12.1014613 C8.16008242,12.1014613 9.44067838,11.621191 10.438802,10.8242646 L14.5276502,14.9188536 C14.5814545,14.9730393 14.6533765,15 14.725573,15 C14.7942009,15 14.8625542,14.9754182 14.9158095,14.9262546 C15.025065,14.8250198 15.0283592,14.6577049 14.9234958,14.5525054 Z M6.76474066,11.5728203 C3.8886841,11.5728203 1.54902292,9.32001661 1.54902292,6.55073066 C1.54902292,3.7814447 3.8886841,1.52864101 6.76474066,1.52864101 C9.64079723,1.52864101 11.9804584,3.7814447 11.9804584,6.55073066 C11.9804584,9.32001661 9.64052272,11.5728203 6.76474066,11.5728203 Z",id:"Shape",stroke:"#FFFFFF","stroke-width":"1.3"},null,-1)]))}var Xs=E(Ks,[["render",Js]]);const js={},eo={width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function to(n,e,t,s,a,r){return d(),p("svg",eo,e[0]||(e[0]=[o("path",{d:"M10.171916,3.81818329 C10.6519813,3.81274681 11.1102149,4.01840688 11.4252438,4.38069009 C11.7402726,4.74297329 11.8803105,5.2253253 11.8081406,5.70080197 L11.0555552,10.608963 C10.9332063,11.4157454 10.2351606,12.0090843 9.42537185,12 L3.27269856,12 C2.97145497,12 2.7272488,11.7556885 2.7272488,11.454445 L2.7272488,5.4544976 C2.7272488,5.37817917 2.74326442,5.30271013 2.77426027,5.23296947 L4.95605931,0.323921631 C5.04360472,0.126944443 5.23894201,0 5.4544976,0 C6.65947193,0 7.63629663,0.976824702 7.63629663,2.18179904 L7.63629663,3.81815451 L10.171916,3.81818329 Z M3.81814832,10.9090654 L9.43153778,10.9090654 C9.70352269,10.9121048 9.93620458,10.7143252 9.97712277,10.4445109 L10.7297188,5.53628009 C10.7537339,5.3780602 10.7070546,5.2172762 10.602045,5.09651513 C10.4970353,4.97575406 10.3442908,4.9072007 10.1780925,4.90904784 L7.09084687,4.90904784 C6.78960329,4.90904784 6.54539711,4.66484166 6.54539711,4.36359808 L6.54539711,2.18179904 C6.54539711,1.69494967 6.22647822,1.2825878 5.78615711,1.14223013 L3.81814832,5.57024992 L3.81814832,10.9090654 Z M2.7272488,5.99994736 L1.63634928,5.99994736 C1.33510569,5.99994736 1.09089952,6.24415353 1.09089952,6.54539711 L1.09089952,10.3635454 C1.09089952,10.664789 1.33510569,10.9089952 1.63634928,10.9089952 L2.7272488,10.9089952 L2.7272488,5.99994736 Z M3.27269856,11.9998947 L1.63634928,11.9998947 C0.732618527,11.9998947 -1.03028697e-13,11.2672762 -1.03028697e-13,10.3635454 L-1.03028697e-13,6.54539711 C-1.03028697e-13,5.64166636 0.732618527,4.90904784 1.63634928,4.90904784 L3.27269856,4.90904784 C3.57394214,4.90904784 3.81814832,5.15325401 3.81814832,5.4544976 L3.81814832,11.454445 C3.81814832,11.7556885 3.57394214,11.9998947 3.27269856,11.9998947 Z",id:"Shape",fill:"#FFFFFF","fill-rule":"nonzero"},null,-1)]))}var no=E(js,[["render",to]]);const ao={},so={width:"12px",height:"12px",viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function oo(n,e,t,s,a,r){return d(),p("svg",so,e[0]||(e[0]=[o("path",{d:"M10.171916,3.81818329 C10.6519813,3.81274681 11.1102149,4.01840688 11.4252438,4.38069009 C11.7402726,4.74297329 11.8803105,5.2253253 11.8081406,5.70080197 L11.0555552,10.608963 C10.9332063,11.4157454 10.2351606,12.0090843 9.42537185,12 L3.27269856,12 C2.97145497,12 2.7272488,11.7556885 2.7272488,11.454445 L2.7272488,5.4544976 C2.7272488,5.37817917 2.74326442,5.30271013 2.77426027,5.23296947 L4.95605931,0.323921631 C5.04360472,0.126944443 5.23894201,0 5.4544976,0 C6.65947193,0 7.63629663,0.976824702 7.63629663,2.18179904 L7.63629663,3.81815451 L10.171916,3.81818329 Z M3.27269856,11.9998947 L1.63634928,11.9998947 C0.732618527,11.9998947 0,11.2672762 0,10.3635454 L0,6.54539711 C0,5.64166636 0.732618527,4.90904784 1.63634928,4.90904784 L3.27269856,4.90904784 C3.57394214,4.90904784 3.81814832,5.15325401 3.81814832,5.4544976 L3.81814832,11.454445 C3.81814832,11.7556885 3.57394214,11.9998947 3.27269856,11.9998947 Z",id:"Shape",fill:"#FFE45A","fill-rule":"nonzero"},null,-1)]))}var ro=E(ao,[["render",oo]]);const lo={},io={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"20"};function co(n,e,t,s,a,r){return d(),p("svg",io,e[0]||(e[0]=[o("title",null,"Docker",-1),o("path",{fill:"currentColor",d:"M560.86064 480h-105.6v-94.4H560.86064V480z m0-326.4h-105.6v97.6H560.86064V153.6z m124.8 232h-105.6V480h105.6v-94.4z m-249.6-115.2h-105.6v96h105.6v-96z m124.8 0h-105.6v96H560.86064v-96z m443.2 160c-22.4-16-76.8-20.8-116.8-12.8-4.8-38.4-27.2-72-65.6-102.4l-22.4-14.4-14.4 22.4c-28.8 44.8-36.8 118.4-6.4 166.4-14.4 8-41.6 17.6-76.8 17.6H4.06064c-14.4 81.6 9.6 187.2 70.4 259.2 59.2 70.4 148.8 105.6 264 105.6 251.2 0 438.4-115.2 524.8-326.4 33.6 0 108.8 0 145.6-72 1.6-3.2 11.2-20.8 12.8-27.2l-17.6-16z m-817.6-44.8H80.86064V480h105.6v-94.4z m124.8 0h-105.6V480h105.6v-94.4z m124.8 0h-105.6V480h105.6v-94.4z m-124.8-115.2h-105.6v96h105.6v-96z"},null,-1)]))}var uo=E(lo,[["render",co]]);const po={class:"quickinstalled-dialog"},_o=["disabled"],vo={class:"quickinstalled-dialog_main-header"},ho={class:"quickinstalled-dialog_main-body"},mo={class:"label-item"},fo={class:"label-item_label"},go={class:"label-item_data"},bo={class:"label-item_radio"},yo={class:"label-item_radio"},ko={key:0,class:"label-item"},wo={class:"label-item_label"},$o={class:"label-item_data"},xo={class:"label-item_radio"},Co=["onUpdate:modelValue"],So={class:"label-item_radio"},Ao=["onUpdate:modelValue"],Lo={key:1,class:"label-item"},To={class:"label-item_label"},Io={class:"label-item_data"},Po={class:"label-item_radio"},Oo=["value","onUpdate:modelValue"],Ro={key:2,class:"label-item"},Do={class:"label-item_label"},Eo={class:"label-item_data"},Vo={class:"label-item_input"},Bo=["onUpdate:modelValue"],Uo={class:"quickinstalled-dialog_main-footer"},Mo={class:"submit"},Fo=Ke({__name:"index",props:{app:{},close:{type:Function}},setup(n){const{$gettext:e}=F(),t=n,s=()=>{t.close()},a=c=>{switch(window.vue_lang){case"zh-cn":case"zh-tw":return c.title}return c.title_en||c.title},r=T(!0),l=a(t.app);De(()=>Ze(()=>y(this,null,function*(){try{yield g()}catch(c){}finally{document.body.style.overflow="hidden",r.value=!1}}))),ie(()=>{r.value=!0,document.body.style.overflow=null});const h=G(),u=T({}),b=T(!1),k=T(),P=V(()=>{const c=[];for(const v in k.value)if(Object.prototype.hasOwnProperty.call(k.value,v)){const m=k.value[v];switch(m.mount){case"/rom":case"/overlay":case"/boot":case"/ext_overlay":case"/":break;default:m.mount&&m.mount.startsWith("/")&&c.push(m)}}return c}),M=()=>y(this,null,function*(){try{const{data:c}=yield $.getBlockDevices();k.value=c||[]}catch(c){S(`${c}`)}}),x=()=>y(this,null,function*(){var v;const c=t.app.autoconf||[];for(let m=0;m<c.length;m++){const f=c[m];switch(f){case"enable":u.value[f]="0";break;case"path":P.value.length>0?((v=window==null?void 0:window.istore_config)==null?void 0:v.last_path)&&window.istore_config.last_path!==""?u.value[f]=window.istore_config.last_path:u.value[f]=P.value[0].mount:u.value[f]=null;break;default:u.value[f]=null}}}),g=()=>y(this,null,function*(){b.value=!0;try{yield Promise.allSettled([M()])}catch(c){S(`${c}`)}finally{yield x(),b.value=!1}}),L=T(!0),z=()=>y(this,null,function*(){if(!b.value){if(!L.value){yield J();return}yield w()}}),J=()=>y(this,null,function*(){const c=t.app.name;t.app.depends.indexOf("docker-deps")!=-1&&!Q("docker")&&!confirm(e("Docker is not installed on the system, try to install it?"))||$.installApp(c).then(m=>{let f=m.stderr;m.code!==0?S({content:`${f}
${e("Installation failed with error code")}: ${m.code}`,keep:!0}):($.increasingDownloadCount(c),h.dispatch("apps/incrAppDownload",{name:c}),window.istore_log(!0,C=>{console.log("Install ",c," ",C==0?"successed":"failed")}))}).catch(m=>{S({content:`${e("Installation failed with error code")}: ${500}`,keep:!0})})}),w=()=>y(this,null,function*(){for(const c in u.value)if(Object.prototype.hasOwnProperty.call(u.value,c)){const v=u.value[c];if(v==null||v===""){S(`${c} `+e("Can't be empty"));return}}try{b.value=!0;const c=t.app.name;$.increasingDownloadCount(c);const v={package:t.app.name,token:D.getToken(),autoconf:"1"};for(const C in u.value)Object.prototype.hasOwnProperty.call(u.value,C)&&(v[C]=u.value[C]);const{code:m,stderr:f}=yield $.installApp(c,v);if(m===0&&window.istore_log(!0),f)throw f}catch(c){S(`${c}`)}finally{b.value=!1}});return(c,v)=>(d(),X(Xe,{to:"body"},[o("div",po,[v[6]||(v[6]=o("div",{class:"quickinstalled-dialog_bg"},null,-1)),B(Je,{name:"dialog"},{default:Re(()=>[r.value?A("",!0):(d(),p("form",{key:0,class:"quickinstalled-dialog_main",onSubmit:ue(z,["prevent"]),disabled:b.value},[o("div",vo,[o("span",null,_(i(e)("Quick install"))+" - "+_(i(l)),1)]),o("div",ho,[o("div",mo,[o("div",fo,[v[2]||(v[2]=o("em",null,"*",-1)),se(" "+_(i(e)("Install and setup")),1)]),o("div",go,[o("label",bo,[H(o("input",{type:"radio",value:!0,"onUpdate:modelValue":v[0]||(v[0]=m=>L.value=m)},null,512),[[te,L.value]]),o("span",null,_(i(e)("Quick setup")),1)]),o("label",yo,[H(o("input",{type:"radio",value:!1,"onUpdate:modelValue":v[1]||(v[1]=m=>L.value=m)},null,512),[[te,L.value]]),o("span",null,_(i(e)("Install only")),1)])])]),L.value?(d(),p(R,{key:0},[(d(!0),p(R,null,Y(u.value,(m,f)=>(d(),p(R,null,[f==="enable"?(d(),p("div",ko,[o("div",wo,[v[3]||(v[3]=o("em",null,"*",-1)),se(" "+_(i(e)("Run after install")),1)]),o("div",$o,[o("label",xo,[H(o("input",{type:"radio",value:"0","onUpdate:modelValue":C=>u.value[f]=C},null,8,Co),[[te,u.value[f]]]),o("span",null,_(i(e)("Stop")),1)]),o("label",So,[H(o("input",{type:"radio",value:"1","onUpdate:modelValue":C=>u.value[f]=C},null,8,Ao),[[te,u.value[f]]]),o("span",null,_(i(e)("Start")),1)])])])):A("",!0)],64))),256)),(d(!0),p(R,null,Y(u.value,(m,f)=>(d(),p(R,null,[f==="enable"?(d(),p(R,{key:0},[],64)):f==="path"?(d(),p("div",Lo,[o("div",To,[v[4]||(v[4]=o("em",null,"*",-1)),se(" "+_(i(e)("Storage")),1)]),o("div",Io,[(d(!0),p(R,null,Y(P.value,C=>(d(),p("label",Po,[H(o("input",{type:"radio",value:`${C.mount}`,"onUpdate:modelValue":ne=>u.value[f]=ne},null,8,Oo),[[te,u.value[f],void 0,{trim:!0}]]),o("span",null,_(C.mount)+" \u3010"+_(C.size)+"\u3011",1)]))),256))])])):(d(),p("div",Ro,[o("div",Do,[v[5]||(v[5]=o("em",null,"*",-1)),se(" "+_(f),1)]),o("div",Eo,[o("label",Vo,[H(o("input",{type:"text","onUpdate:modelValue":C=>u.value[f]=C},null,8,Bo),[[ce,u.value[f],void 0,{trim:!0}]])])])]))],64))),256))],64)):A("",!0)]),o("div",Uo,[o("button",Mo,_(i(e)("Install")),1),o("button",{class:"close",type:"button",onClick:s},_(i(e)("Cancel")),1)])],40,_o))]),_:1})])]))}});var zo=E(Fo,[["__scopeId","data-v-aa2e203c"]]),Go={install(n){window.$openGlobalQuickInstalled=e=>{const t=document.createElement("div");document.body.appendChild(t);const s=()=>{Ae(null,t),t.remove()},a=B(zo,ae(W({},e),{close:s}));a.appContext=n._context,Ae(a,t)}}},qo={OpenQuickstartInstallApp:Go};const K=le(rt);K.component("svg-search",Xs);K.component("svg-star-on",no);K.component("svg-star-off",ro);K.component("svg-docker",uo);K.use(qo.OpenQuickstartInstallApp);const Yo=()=>y(I,null,function*(){yield et(K),K.use(Ys).use(Ws),K.mount("#app")});Yo()});export default Ho();
